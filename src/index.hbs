{{#extend "layout"}}

    {{#replace "sidebar"}}
    <div class="sidebar-hidden">
        {{> sidebar this conditionClass=conditionClass}}
    </div>
    {{/replace}}

    {{#replace "app_content"}}


    
    {{#append "scripts"}}

      <script>

            //隐藏sidebar中不需要的部分。
            $('header').hide();

            $(document).ready(

                //登录框弹出,后面背景变模糊,icon才显现出。
            function (){


                $('#myModal').addClass("in").addClass("show-shadow").show();//可以定义为fadeIn(),show('sow')
                $('.single-widget-container').addClass("blur").animate({opacity: "1"},500);

                //tooltip的定位！
                $('.tooltip').each(function () {

                    var tooltip_width = $(this).css("width");
                    console.log(tooltip_width);
                    subpos = tooltip_width.length-2;
                    posleft = -tooltip_width.substr(0,subpos)/2+"px";
                    console.log(subpos);
                    console.log(posleft);
                    $(this).css("margin-left",posleft);


                })

                //登录后(点击登录按钮)
                $('#loginButton').click(
                    function (){

                        //tooltip的定位！
                        $('.tooltip').each(function () {

                            var tooltip_width = $(this).css("width");
                            console.log(tooltip_width);
                            subpos = tooltip_width.length-2;
                            posleft = -tooltip_width.substr(0,subpos)/2+"px";
                            console.log(subpos);
                            console.log(posleft);
                            $(this).css("margin-left",posleft);


                        })

                        if (true){

                            if (!$('#loginButton').hasClass("buttonDisabled")) {

                                var email_type = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;

                                //先判断是否是邮箱的格式，如果不是，相应提示信息显示。如果是判断用户名和密码是否正确：如果不正确，相应提示信息显现；如果正确，就进入。
                                if (email_type.test($('#email').val()) == false){

                                    $('#email-tip').addClass("in");
                                }
                                else {

                                    if ($('#email').val()=='1@qq.com' && $('#password').val()=='12'){

                                        $('#myModal').removeClass("in").removeClass("show-shadow").hide();
                                        $('.single-widget-container').removeClass("blur").addClass("animateBlur");
                                        $('header').show();
                                        $('.nav.pull-left').hide();
                                        $('.nav.pull-right>li:eq(0)').hide();
                                        $('.nav.pull-right>li:eq(1)').hide();
                                        $('.in-footer').show();
                                    }
                                    else {
                                        $('#password-tip').addClass("in");
                                        $('.myModalContent').addClass("shake shake-constant shake-horizontal");
                                         setTimeout(function (){
                                            $('.myModalContent').removeClass("shake shake-constant shake-horizontal");
                                         },500);
                                    }
                                }
                            };


                        }
                        else{

                            $('#myModal').removeClass("in").removeClass("show-shadow").hide();
                            $('.single-widget-container').removeClass("blur").addClass("animateBlur");
                            $('header').show();
                            $('.nav.pull-left').hide();
                            $('.nav.pull-right>li:eq(0)').hide();
                            $('.nav.pull-right>li:eq(1)').hide();
                            $('.in-footer').show();

                        }

                    });


                //注册和登录的切换
                $('#sign-in').click(
                    function (){
                        event.preventDefault();
                        var text = $('#sign-in').children().html();
                        if (text=="尚未注册？") {
                            $('.form-sign-in').show();
                            $('.form-login').hide();
                            $('#sign-in').children().html("已有账号？");
                            $('.login-modal').removeClass("login-modal").addClass("sign-modal");
                            $('.myModalHeader').css('line-height','0.4');
                        }
                        else if (text=="已有账号？"){
                            $('.form-sign-in').hide();
                            $('.form-login').show();
                            $('#sign-in').children().html("尚未注册？");
                            $('.sign-modal').removeClass("sign-modal").addClass("login-modal");
                            $('.myModalHeader').css('line-height','1');

                        }
                    });
                
                //登录的交互，判空登录按钮的变化
                $('#email').keydown(function(){

                    if (($('#email').val()!="")&&($('#password').val()!="")){
                        $('#loginButton').removeClass("buttonDisabled");
                    }

                    if (($('#email').val()=="")||($('#password').val()=="")){
                        $('#loginButton').addClass("buttonDisabled");
                    }

                    $('#email-tip').removeClass("in");
                    $('#password-tip').removeClass("in");

                });

                $('#password').keydown(function(){

                    if (($('#email').val()!="")&&($('#password').val()!="")){
                        $('#loginButton').removeClass("buttonDisabled");
                    }

                     if (($('#email').val()=="")||($('#password').val()=="")){
                        $('#loginButton').addClass("buttonDisabled");
                    }

                    $('#email-tip').removeClass("in");
                    $('#password-tip').removeClass("in");


                });

            });

            
    </script> 

    {{/append}}

    <div class="logo">
        <h4><a href="index.html"> <i class="iconfont" style="font-size: 140px;">&#xe600;</i></a></h4>
    </div>

    <div class="single-widget-container none-opacity">
        <div class="row headOne">
            <div class="col-lg-2 col-md-4 col-sm-4 col-xs-6">
                <a href="application_list.html">
                    <div class="headOneIcon">
                        <div class="headOneIconImg">
                            <i class="icon iconfont">&#xe606;</i>
                        </div>
                        <div class="headOneIconText">应用程序</div>
                    </div>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-xs-6">
                <a href="#">
                    <div class="headOneIcon">
                        <div class="headOneIconImg">
                            <i class="icon iconfont">&#xe603;</i>
                        </div>
                        <div class="headOneIconText">浏览器</div>
                    </div>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-xs-6">
                <a href="#">
                    <div class="headOneIcon">
                        <div class="headOneIconImg">
                            <i class="icon iconfont">&#xe602;</i>
                        </div>
                        <div class="headOneIconText">关键事务</div>
                    </div>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-xs-6">
                <a href="#">
                    <div class="headOneIcon">
                        <div class="headOneIconImg">
                            <i class="icon iconfont">&#xe604;</i>
                        </div>
                        <div class="headOneIconText">移动应用</div>
                    </div>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-xs-6">
                <a href="#">
                    <div class="headOneIcon">
                        <div class="headOneIconImg">
                            <i class="icon iconfont">&#xe605;</i>
                        </div>
                        <div class="headOneIconText">系统设置</div>
                    </div>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-sm-4 col-xs-6">
                <a href="#">
                    <div class="headOneIcon">
                        <div class="headOneIconImg">
                            <i class="icon iconfont">&#xe601;</i>
                        </div>
                        <div class="headOneIconText">个人中心</div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelleby="myModallabel" aria-hidden="true">
        <div class="modal-dialog login-modal" id="myModalDialog">
            <div class="modal-content myModalContent">
                <div class="modal-header myModalHeader">
                    <i class="iconfont login-icon">&#xe600;</i>
                </div>
                <div class="modal-body myModalBody">

                    <form class="no-margin form-login" action="index.html" method="get" id="validation-form" data-parsley-priority-enabled="false"
                              novalidate="novalidate">
                        <fieldset>
                            <div class="form-group form-login">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="email" type="email" class="form-control input-lg" placeholder="账号">
                                    <div class="tooltip fade bottom tooltip_login" id="email-tip">
                                        <div class="arrow_tooltip"></div>
                                        <span class="glyphicon glyphicon-exclamation-sign"></span>
                                        <span class="tip-content"> 用户名不是邮箱的格式哟！</span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-login">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="password" type="password" class="form-control input-lg" placeholder="密码">
                                    <div class="tooltip fade bottom tooltip_login" id="password-tip">
                                        <div class="arrow_tooltip"></div>
                                        <span class="glyphicon glyphicon-exclamation-sign"></span>
                                        <span class="tip-conetent"> 用户名或密码不正确哟！请修改！</span>
                                    </div>
                                </div>
                            </div>
                             <div class="form-group form-login">
                                <div class="input-group input-group-lg myInputGroup home-button">
                                    <div class="remember checkbox">
                                        <input id="remember-box" type="checkbox" value="1" name="remember">
                                        <label for="remember-box"> 记住我</label>
                                    </div>
                                    <span class="loginButton buttonDisabled" id="loginButton">登录</span>
                                </div>
                            </div>
                        </fieldset>
                    </form>

                    <form class="no-margin form-sign-in" action="index.html" method="get" id="validation-form-sign" data-parsley-priority-enabled="true">
                        <fieldset>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="email-s" type="email" class="form-control input-lg input-transparent"
                                           placeholder="邮箱"  data-parsley-trigger="change" data-parsley-validation-threshold="1"
                                               required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="password-s" type="password" class="form-control input-lg input-transparent"
                                           placeholder="密码" data-parsley-trigger="change" required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="passwordRepeat" type="password" class="form-control input-lg input-transparent"
                                           placeholder="确认密码" data-parsley-trigger="change"
                                               data-parsley-equalto="#password-s"
                                               required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="name" type="text" class="form-control input-lg input-transparent"
                                           placeholder="姓名">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="company" type="text" class="form-control input-lg input-transparent"
                                           placeholder="企业名称">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="phone" type="text" class="form-control input-lg input-transparent"
                                           placeholder="联系方式">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup">
                                    <input id="qq" type="text" class="form-control input-lg input-transparent"
                                           placeholder="QQ号">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group input-group-lg myInputGroup home-button">
                                    <input id="signButton" type="button" class="input-lg input-transparent login-button"
                                           value="注册">
                                </div>
                            </div>     
                        </fieldset>
                    </form>

                </div>
                
            </div>
        </div>
        <div class="home-footer">
            <a href="#" id="forget-psw"><span>忘记密码？</span></a>
            <a href="#" id="sign-in"><span>尚未注册？</span></a>
        </div>
    </div>

    <div class="navbar in-footer">
        <ul class="nav navbar-nav">
            <li><a href="#"><span>官方网站</span></a></li>
            <li class="divider"></li>
            <li><a href="#"><span>帮助中心</span></a></li>
            <li class="divider"></li>
            <li><a href="#"><span>客户隐私政策</span></a></li>
            <li class="divider"></li>
            <li><a href="#"><span>条款与条件</span></a></li>
        </ul>
    </div>

    <div class="loader-wrap hiding hide">
        <i class="fa fa-circle-o-notch fa-spin"></i>
    </div>

    

    {{/replace}}

{{/extend}}